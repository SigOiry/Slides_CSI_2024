---
format: 
    revealjs:
        slide-number: false
        transition: fade
        theme: [default, style.scss]
        footer: "Simon Oiry, Follow-up Committee Meeting 2024"
        logo: Images/nantes-universite.png
        width: 2400
        height: 1350
        auto-animate: true
        auto-play-media: true
editor_options: 
  chunk_output_type: console
---

```{r library}
#| cache: true
#| echo: false
#| eval: true
#| warning: false

library(tidyverse)
library(Utilities.Package)
```

##  {background-image="Images/Slide1_Background.png"}

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 15%; width: 1800px; transform: translate(-50%, -50%)"}
[Multiscale remote sensing of intertidal vegetation of European coasts in response to natural and anthropogenic pressures.]{style="color: black; font-size: 90px; font-weight: bold; line-height: 1em; margin: 0px; text-align: justify-all;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 33%; width: 900px; transform: translate(-50%, -50%)"}
[Start of the thesis in January 2022]{style="color: black;font-size: 60px; font-weight: bold;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 50%; width: 800px; transform: translate(-50%, -50%)"}
[Follow-up meeting]{style="color: black;font-size: 70px; font-weight: bold;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 55%; width: 800px; transform: translate(-50%, -50%)"}
[11th of June 2024]{style="color: black;font-size: 60px; font-weight: bold;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 70%; width: 450px; transform: translate(-50%, -50%)"}
[Simon Oiry]{style="color: black; font-size: 60px; font-weight: bold;"}

[Phd student]{style="color: black; font-size: 55px; font-weight: bold;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 85%; width: 700px; transform: translate(-50%, -50%)"}
[Supervisor : Laurent Barill√©]{style="color: black;font-size: 55px; font-weight: bold;"} [Co-supervisor : Pierre Gernez]{style="color: black;font-size: 55px; font-weight: bold;"}
:::

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 95%; width: 90%; transform: translate(-50%, -50%)"}
[Members of the Commitee : Stanislas Dubois & Emanuele Organelli]{style="color: black;font-size: 55px; font-weight: bold;"}
:::

::: {.absolute bottom="35%" left="5%"}
![](Images/nantes-universite.png){height="300"}
:::

::: {.absolute bottom="35%" right="5%"}
![](Images/rsbe2.png){height="300"}
:::

## table of contents {style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1 2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.incremental style="line-height: 150px;"}
-   **1** - Introduction

-   **2** - Summary of the first 2 years

-   **3** - Work of the year

    -   BiCOME Drone paper - Finalization and Publication

    -   DISCOV model - Application and Update for *Gracilaria vermiculophylla* prediction

    -   Heatwave on Seagrass experiment

-   **4** - Additional work parallel to the thesis

-   **5** - Conclusion
:::

## 

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 40%; width: 1200px; transform: translate(-50%, -50%)"}
[Introduction]{style="color: black; font-size: 150px; font-weight: bold;"}
:::

## Coastal zone : areas under anthropogenic pressure {style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[1]{style="color: black;"}
:::

::: {.absolute .fragment .fade-in-then-out bottom="3%" right="-8%" fragment-index="2"}
![](Images/map_buffer_slide21.png){height="1000"}
:::

::: {.absolute .fragment .fade-in-then-out bottom="3%" right="-8%" fragment-index="3"}
![](Images/map_density_slide21.png){height="1000"}
:::

::: {.fragment .fade-out fragment-index="10"}
::: {.fragment .fade-in .absolute fragment-index="6" top="10%" left="40%"}
![](Images/ships_slide2.jpg){height="300"}
:::

::: {.fragment .fade-in .absolute fragment-index="7" top="10%" left="60%"}
![](Images/oyster_slide2.jpg){height="300"}
:::

::: {.fragment .fade-in .absolute fragment-index="8" top="34%" left="40%"}
![](Images/fishing_slide2.jpg){height="300"}
:::

::: {.fragment .fade-in .absolute fragment-index="9" top="34%" left="63.5%"}
![](Images/tourism_slide2.jpg){height="300"}
:::
:::

::: {.fragment .fade-in-then-out .absolute fragment-index="11" top="25%" left="40%"}
![](Images/CoastalErosion.gif){height="750"}
:::

::: {.fragment .fade-in-then-out .absolute fragment-index="12" top="25%" left="40%"}
![](Images/CoastalArtificialisation.png){height="650"}
:::

::: {.fragment .fade-in-then-out .absolute fragment-index="13" top="25%" left="40%"}
![](Images/GreenTides_Slide1.png){height="500"}
:::

::: {.fragment .fade-in .absolute fragment-index="14" top="15%" left="50%"}
![](Images/EolienneOffshore.jpg){height="400"}
:::

::: {.fragment .fade-in .absolute fragment-index="14" top="15%" left="76%"}
![](Images/Agarophyton.jpg){height="400"}
:::

::: {.fragment .fade-in .absolute fragment-index="14" top="45%" left="53%"}
![](Images/Dredging.jpg){height="600"}
:::

::: {.fragment .fade-in fragment-index="1" style="font-size: 50px;"}
-   Densely populated areas:
:::

::: {.absolute .fragment .fade-in fragment-index="2" left="150px" top="200px" style="font-size: 40px;"}
-   4% of the french territory
:::

::: {.absolute .fragment .fade-in fragment-index="3" left="150px" top="300px" style="font-size: 40px;"}
-   10% of the french population
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="400px" style="font-size: 50px;"}
::: {.fragment .fade-out fragment-index="10"}
-   Many economic activities:
:::
:::

::: {.absolute .fragment .fade-in fragment-index="10" top="400px" style="font-size: 50px;"}
-   Many anthropogenic pressures:
:::

::: {.absolute .fragment .fade-in fragment-index="11" left="150px" top="500px" style="font-size: 40px;"}
-   Shoreline changes and Coastal Erosion
:::

::: {.absolute .fragment .fade-in fragment-index="12" left="150px" top="600px" style="font-size: 40px;"}
-   Modification of hydrological properties
:::

::: {.absolute .fragment .fade-in fragment-index="13" left="150px" top="700px" style="font-size: 40px;"}
-   Input of nutrients or hazardous substances
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="13" left="1000px" top="850px" style="font-size: 40px;"}
[Quillien et al. (2015)]{style="color: black;"}
:::

::: {.absolute .fragment .fade-in fragment-index="14" left="150px" top="800px" style="font-size: 40px;"}
-   Introduction of energy (Noises, Temperature, vibration...)
:::

::: {.absolute .fragment .fade-in fragment-index="14" left="150px" top="900px" style="font-size: 40px;"}
-   Non-indigenous species introduction
:::

::: {.absolute .fragment .fade-in fragment-index="14" left="150px" top="1000px" style="font-size: 40px;"}
-   Extraction of species by commercial fishing
:::

::: {.absolute .fragment .fade-in fragment-index="14" left="150px" top="1100px" style="font-size: 40px;"}
-   ...
:::

## Intertidal habitats {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[2]{style="color: black;"}
:::

::: {.absolute data-id="VideoSoft" top="30%" left="0%"}
![](Videos/P4810662.MP4){height="650"}
:::

::: {.absolute data-id="VideoHard" top="30%" right="0%"}
![](Videos/DJI_0076_1.mp4){height="650"}
:::

<div>

-   Soft Bottom and Hard Bottom

</div>

::: {.absolute bottom="15%" left="0%" data-id="TextSoft"}
[Aveiro Lagoon, Portugal]{style="color: black; font-size: 40px"}
:::

::: {.absolute bottom="15%" right="2%"}
[Mesquer, France]{style="color: black; font-size: 40px"}
:::

## Intertidal habitats {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[2]{style="color: black;"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="1" top="25%" left="0%"}
![](Images/habitat_slides3_all.png){height="900"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="25%" left="0%"}
![](Images/Pheophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="3" top="25%" left="15%"}
![](Images/Chlorophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="25%" left="30%"}
![](Images/Magnoliopsida_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="5" top="52%" left="7.5%"}
![](Images/Bacillariophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="6" top="52%" left="22.5%"}
![](Images/Rodophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="7" top="43%" left="50%"}
![](Images/MPB_slide3.jpg){height="700"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="8" top="43%" left="50%"}
![](Images/eelgrass_slide3.jpg){height="700"}
:::

::: {.fragment .fade-out fragment-index="13"}
::: {.absolute data-id="VideoSoft" top="0%" left="50%"}
![](Videos/P4810662_2.MP4){height="400"}
:::

::: {.absolute top="27%" left="52%" data-id="TextSoft"}
[Aveiro Lagoon, Portugal]{style="color: black; font-size: 30px"}
:::

::: {.fragment .fade-out fragment-index="12"}
::: {.absolute .fragment .fade-in fragment-index="9" top="70%" left="48%"}
![](Images/FishSeagrass.jpg){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="10" top="43%" left="48%"}
![](Images/birds2_slide3.jpg){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="11" top="70%" left="70%"}
![](Images/paper_slide3.png){height="350"}
:::

::: {.fragment .fade-in .absolute top="37%" left="48%" fragment-index="9"}
-   Nurserey and habitat of many species
:::
:::

::: {.fragment .fade-in .absolute top="37%" left="48%" fragment-index="12"}
-   Some species pose a threat to these habitats
:::

::: {.absolute .fragment .fade-in fragment-index="12" top="45%" left="55%"}
![](Images/Green_Algae_bloom_cropped.jpg){height="600"}
:::

::: {.absolute .fragment .fade-in fragment-index="12" top="45%" left="75%"}
![](Images/Red_Algae_bloom_cropped.jpg){height="600"}
:::
:::

::: {.absolute .fragment .fade-in fragment-index="15" top="50%" left="60%"}
![](Images/European_Commission.svg.png){height="444"}
:::

::: {.absolute .fragment .fade-in fragment-index="15" top="33%" left="50%"}
![](Images/Arrow.png){height="100"}
:::

<div>

-   Soft Bottom [and Hard Bottom]{style="opacity:0.25"}

</div>

::: {.fragment .fade-in .absolute top="16%" fragment-index="1"}
-   Multiple classes of vegetation
:::

::: {.fragment .fade-in-then-out .absolute top="35%" left="45%" fragment-index="2"}
-   Pheophyceae, Brown algae
:::

::: {.fragment .fade-in-then-out .absolute top="35%" left="45%" fragment-index="3"}
-   Pheophyceae, Brown algae
-   Chloropyceae, Green algae
:::

::: {.fragment .fade-in-then-out .absolute top="35%" left="45%" fragment-index="4"}
-   Pheophyceae, Brown algae
-   Chloropyceae, Green algae
-   Magnoliopsida, Seagrasses
:::

::: {.fragment .fade-in-then-out .absolute top="35%" left="45%" fragment-index="5"}
-   Pheophyceae, Brown algae
-   Chloropyceae, Green algae
-   Magnoliopsida, Seagrasses
-   Bracilariophyceae, Microphytobenthos
:::

::: {.fragment .fade-in-then-out .absolute top="35%" left="45%" fragment-index="6"}
-   Pheophyceae, Brown algae
-   Chloropyceae, Green algae
-   Magnoliopsida, Seagrasses
-   Bracilariophyceae, Microphytobenthos
-   Rhodophyceae, Red algae
:::

::: {.fragment .fade-in-then-out .absolute top="37%" left="48%" fragment-index="7"}
-   Protection against erosion
:::

::: {.fragment .fade-in-then-out .absolute top="37%" left="48%" fragment-index="8"}
-   Carbon fixation
:::

::: {.fragment .fade-in .absolute top="10%" left="52%" fragment-index="13"}
[Improve the protection]{style="font-size: 70px"}
:::

::: {.fragment .fade-in .absolute top="20%" left="45%" fragment-index="14"}
-   Water Framework Directive (2001)
-   Marine Strategy Framework Directive (2008)
:::

::: {.fragment .fade-in .absolute top="36%" left="55%" fragment-index="15"}
Good Knowledge of soft bottom intertidal habitats
:::

## How to monitor this ecosystem ? {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[3]{style="color: black;"}
:::

::: {.fragment .fade-in fragment-index="1"}
-   *in situ* Survey
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="1" data-id="LaurentLisboa" top="20%" left="20%"}
![](Images/LaurentLisboa.jpg){height="1000"}
:::

## How to monitor this ecosystem ? {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[3]{style="color: black;"}
:::

::: {.fragment .fade-out fragment-index="7"}
::: {.absolute data-id="LaurentLisboa" top="7%" left="45%"}
![](Images/LaurentLisboa.jpg){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" top="7%" left="71%"}
![](Images/StudentOntheField.jpg){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="50%" left="45%"}
![](Images/Sentinel2.png){height="400"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="53%" left="52%"}
![](Images/Matrice200.png){height="400"}
:::
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="7" top="20%" left="45%"}
![](Images/bandsvstime.png){width="1000"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="8" top="5%" left="50%"}
![](Images/EOimplemtation.png){width="900"}
:::

::: {.absolute .fragment .fade-in data-ID="MullerTable" fragment-index="11" top="20%" right="0%"}
![](Images/muller_karger_table.png){height="700"}
:::

::: {.fragment .fade-out fragment-index="9"}
<div>

-   *in situ* Survey

</div>

::: {.absolute top="17%" left="8%"}
-- [Time-consuming]{style="font-size: 50px"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" top="22%" left="8%"}
-- [Hard to access]{style="font-size: 50px"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="27%" left="8%"}
-- [Expensive]{style="font-size: 50px"}
:::

::: {.absolute .fragment .fade-in fragment-index="3" top="32%" left="8%"}
-- [Low extent and temporal resolution]{style="font-size: 50px"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="50%"}
-   Remote Sensing Survey
:::

::: {.absolute .fragment .fade-in fragment-index="5" top="57%" left="8%"}
-- [Cost effective]{style="font-size: 50px"}
:::

::: {.absolute .fragment .fade-in fragment-index="6" top="62%" left="8%"}
-- [Good coverage/Time ratio]{style="font-size: 50px"}
:::
:::

::: {.fragment .fade-in-then-out fragment-index="8"}
[Papathanasopoulou, E., Simis, S., Alikas, K., Ansper, A., Anttila, S., Jenni, A., Barill√©, A.-L., Barill√©, L., Brando, V., Bresciani, M., Buƒças, M., Gernez, P., Giardino, C., Harin, N., Hommersom, A., Kangro, K., Kauppila, P., Koponen, S., Laanen, M., ... Zoffoli, M. L. (2019). Satellite-assisted monitoring of water quality to support the implementation of the Water Framework Directive. In EOMORES white paper. https://doi.org/10.5281/zenodo.3463051]{style="position: absolute; left: 1200px; top: 1150px; height: 110px; width: 785px; background-color: #FFFFFF; padding: 20px; padding-left: 50px; font-size: 20px; text-align: center; color:#292626 "}
:::

::: {.absolute .fragment .fade-in data-ID="Mullerlegend" fragment-index="12" top="15%" right="15%"}
[Muller-Karger et al. (2018)]{style="font-size: 40px"}
:::

::: {.absolute .fragment .fade-in fragment-index="9" top="10%" left="0%"}
![](Images/Pereira2013.png){height="300"}
:::

::: {.absolute .fragment .fade-in width="40%" fragment-index="10" top="40%" left="0%"}
-   Standardized measurements or indicators to monitor biodiversity
:::

::: {.absolute .fragment .fade-in width="40%" fragment-index="11" top="40%" left="0%"}
-   Standardized measurements or indicators to monitor biodiversity
-   Key metrics to monitor and assess biodiversity changes
:::

## How to monitor this ecosystem ? {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[3]{style="color: black;"}
:::

::: {.absolute data-ID="MullerTable" top="13%" left="15%"}
![](Images/muller_slide4.png){height="1000"}
:::

::: {.absolute bottom="3%" left="35%"}
![](Images/scale_muller_slide4.png){height="40"}
:::

::: {.absolute data-ID="Mullerlegend" top="8%" right="15%"}
[Table adapted from Muller-Karger et al. (2018)]{style="font-size: 40px"}
:::

## Objectives of the thesis {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
1 [2 3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute bottom="0%" right="-2%"}
[4]{style="color: black;"}
:::

::: {.fragment .fade-out fragment-index="5"}
::: {.absolute .fragment .fade-in-then-out width="2200" fragment-index="1"}
-   [Map spatial and temporal variations in plant biodiversity of intertidal zones with a focus on green macrophytes]{style="font-size: 60px"}
:::

::: {.absolute .fragment .fade-in-then-out width="2200" fragment-index="2"}
-   [Map]{style="font-size: 60px"} [spatial]{style="font-size: 60px; color: red"} [and temporal variations in plant biodiversity of intertidal zones with a focus on green macrophytes]{style="font-size: 60px"}
:::

::: {.absolute .fragment .fade-in width="2200" fragment-index="3"}
-   [Map]{style="font-size: 60px"} [spatial]{style="font-size: 60px; color: red"} [and]{style="font-size: 60px"} [temporal]{style="font-size: 60px; color: red"} [variations in plant biodiversity of intertidal zones with a focus on green macrophytes]{style="font-size: 60px"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="20%" left="20%"}
![](Images/Matrice200.png){height="300"}
:::

::: {.absolute .fragment .fade-in fragment-index="3" top="20%" right="35%"}
![](Images/Sentinel2.png){height="300"}
:::

::: {.absolute .fragment .fade-in top="25%" right="10%" fragment-index="3"}
-   [Revisit time: 3 to 5 days]{style="font-size: 40px"}
-   [Archive since 2016]{style="font-size: 40px"}
:::

::: {.absolute .fragment .fade-in bottom="40%" fragment-index="4"}
-   [Analyze natural and human factors responsible for changes.]{style="font-size: 60px"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="60%" left="0%"}
![](Images/SST.png){height="400"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="60%" left="30%"}
![](Images/MHW.png){height="400"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="60%" left="65%"}
![](Images/riverdischarge.png){height="500"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="55%" left="8%"}
[Sea Surface Temperature]{style="font-size: 40px"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="55%" left="42%"}
[Marine Heat Wave]{style="font-size: 40px"}
:::

::: {.absolute .fragment .fade-in fragment-index="4" top="55%" left="76%"}
[River Discharge]{style="font-size: 40px"}
:::
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="5" top="14%" left="0%"}
![](Images/workflowthesis_0.png){width="2400"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="6" top="14%" left="0%"}
![](Images/workflowthesis_1.png){width="2400"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="7" top="14%" left="0%"}
![](Images/workflowthesis_2.png){width="2400"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="8" top="14%" left="0%"}
![](Images/workflowthesis_3.png){width="2400"}
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="9" top="14%" left="0%"}
![](Images/workflowthesis_0.png){width="2400"}
:::

::: {.fragment .fade-in-then-out .absolute fragment-index="9" top="35%" left="-1%"}
::: {.greenbox .absolute height="300px" width="1700px"}
:::
:::

::: {.absolute .fragment .fade-in-then-out fragment-index="9" top="25%" left="27%"}
[Done !]{style="font-size: 80px; color: green"}
:::

::: {.absolute .fragment .fade-in fragment-index="10" top="14%" left="0%"}
![](Images/workflowthesis_4.png){width="2400"}
:::

::: {.fragment .fade-in .absolute fragment-index="10" top="15%" left="67%"}
::: {.redbox .absolute height="600px" width="680px"}
:::
:::

::: {.fragment .fade-in .absolute fragment-index="10" top="36%" left="18%"}
::: {.redbox .absolute height="600px" width="680px"}
:::
:::

::: {.absolute .fragment .fade-in fragment-index="10" top="25%" left="45%"}
[Upcoming !]{style="font-size: 80px; color: red"}
:::

## 

::: {.gradient_box style="text-align: center; position: absolute; left: 50%; top: 40%; width: 2500px; transform: translate(-50%, -50%)"}
[Summary of the first 2 years]{style="color: black; font-size: 150px; font-weight: bold;"}
:::

## Challenges to map intertidal vegetation {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

```{r plot hyperspectra}
#| cache: true
#| echo: false
#| eval: false
#| warning: false


rhodo <- "Data/Fig_Hyperspectral/BEL_STD.csv" %>%
    read.csv() %>% 
    group_by(Wavelength) %>% 
    reframe(Rhodophyceae = median(mean_STD))



speclib <- "Data/Fig_Hyperspectral/spec_lib.csv" %>% 
    read.csv() %>% 
    select(-c(X,OSM,Bare.Sediment,Xanthophyceae)) %>% 
    left_join(rhodo, by = "Wavelength") %>%
    pivot_longer(-Wavelength, names_to = "Class",values_to = "Ref")  %>% 
    mutate(Class = case_when(Class == "Magnoliosida" ~ "Magnoliopsida",
                             Class == "Ulvophyceae" ~ "Chlorophyceae",
                             TRUE ~ Class)) %>% 
    group_by(Class) %>% 
    reframe(Wavelength = Wavelength,
            Ref = (Ref-min(Ref))/(max(Ref)-min(Ref)))
    

ggplot(speclib)+
    geom_line(aes(x = Wavelength, y = Ref, color = Class), linewidth = 1.5)+
    scale_color_manual(values=c( "#DAA520", "#b3ff1a", "#389318", "#873e23", "#b3002d"))+
    theme_Bede()+
    ylab("Standardised Reflectance")+
    xlab("Wavelength (nm)")+
    theme(legend.position = c(0.15, 0.8),
          legend.text = element_text(size = 12),
          axis.text.x = element_text(size = 12),
          axis.text.y = element_text(size = 12))

ggsave("Images/Figure_Hyperspectral.png", last_plot(), width = 948*2, height = 450*2, units = "px")

speclib %>%
  filter(Class == "Magnoliopsida" | 
         Class == "Chlorophyceae") %>% 
ggplot()+
    geom_line(aes(x = Wavelength, y = Ref, color = Class), linewidth = 1.5)+
    scale_color_manual(values=c( "#b3ff1a", "#389318"))+
    theme_Bede()+
    ylab("Standardised Reflectance")+
    xlab("Wavelength (nm)")+
    theme(legend.position = c(0.15, 0.8),
          legend.text = element_text(size = 12),
          axis.text.x = element_text(size = 12),
          axis.text.y = element_text(size = 12))
    
ggsave("Images/Figure_Hyperspectral_faded.png", last_plot(), width = 948*2, height = 450*2, units = "px")

```

::: {.absolute .fragment .fade-out data-id="SpectralSignature" fragment-index="1" top="14%" left="-2%"}
![](Images/Figure_Hyperspectral.png){height="630"}
:::

::: {.absolute .fragment .fade-in data-id="SpectralSignature" fragment-index="1" top="14%" left="-2%"}
![](Images/Figure_Hyperspectral_faded.png){height="630"}
:::

::: {.absolute .fragment .fade-out data-id="SpectralSignature" fragment-index="1" top="12%" right="-2%"}
![](Images/Disc_Pigment_Table.png){height="630"}
:::

::: {.absolute .fragment .fade-in data-id="SpectralSignature" fragment-index="1" top="12%" right="-2%"}
![](Images/Disc_Pigment_Table_faded.png){height="630"}
:::

::: {.absolute .fragment .fade-out fragment-index="1" bottom="0%" left="0%"}
![](Images/Pheophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" bottom="0%" left="0%"}
![](Images/Pheophyceae_cropped_faded.png){height="350"}
:::

::: {.absolute bottom="0%" left="20%"}
![](Images/Chlorophyceae_cropped.png){height="350"}
:::

::: {.absolute bottom="0%" left="40%"}
![](Images/Magnoliopsida_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-out fragment-index="1" bottom="0%" left="60%"}
![](Images/Bacillariophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" bottom="0%" left="60%"}
![](Images/Bacillariophyceae_cropped_faded.png){height="350"}
:::

::: {.absolute .fragment .fade-out fragment-index="1" bottom="0%" left="80%"}
![](Images/Rodophyceae_cropped.png){height="350"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" bottom="0%" left="80%"}
![](Images/Rodophyceae_cropped_faded.png){height="350"}
:::

::: {.absolute bottom="28%" left="2%"}
[Phaeophyceae]{style="font-size: 40px"}
:::

::: {.absolute bottom="28%" left="22%"}
[Chlorophyceae]{style="font-size: 40px"}
:::

::: {.absolute bottom="28%" left="42%"}
[Magnoliopsida]{style="font-size: 40px"}
:::

::: {.absolute bottom="28%" left="61%"}
[Bacillariophyceae]{style="font-size: 40px"}
:::

::: {.absolute bottom="28%" left="82%"}
[Rhodophyceae]{style="font-size: 40px"}
:::

```{r Hyperspectral resampling}
#| cache: true
#| echo: false
#| eval: false
#| warning: false


rhodo <- "Data/Fig_Hyperspectral/BEL_STD.csv" %>%
    read.csv() %>% 
    group_by(Wavelength) %>% 
    reframe(Rhodophyceae = median(mean_STD))



speclib <- "Data/Fig_Hyperspectral/spec_lib.csv" %>% 
    read.csv() %>% 
    select(-c(X,OSM,Bare.Sediment,Xanthophyceae)) %>% 
    left_join(rhodo, by = "Wavelength") %>%
    pivot_longer(-Wavelength, names_to = "Class",values_to = "Ref")  %>% 
    mutate(Class = case_when(Class == "Magnoliosida" ~ "Magnoliopsida",
                             Class == "Ulvophyceae" ~ "Chlorophyceae",
                             TRUE ~ Class)) %>% 
    pivot_wider(names_from = Class,values_from = Ref)


speclib_filled <- speclib[0,]
for (i in 400:900) {

    a <- speclib %>% 
        filter(Wavelength == i)
    
    if (!nrow(a) == 1) {
        
        b1 <-  speclib %>% 
        filter(Wavelength == i-1)
        
        b2 <- speclib %>% 
        filter(Wavelength == i+1)
        
        for (ii in 1:ncol(b1)) {
            if(ii == 1){
                speclib_filled[nrow(speclib_filled)+1,ii]<-mean(c(as.numeric(b1[1,ii]),as.numeric(b2[1,ii])))
            }else{
                speclib_filled[nrow(speclib_filled),ii]<-mean(c(as.numeric(b1[1,ii]),as.numeric(b2[1,ii])))
            }
        }
    }else{
        speclib_filled[nrow(speclib_filled)+1,]<-a
    }
    
}

SRF_Prisma <- "Data/SRF/SRF_PRISMA.txt" %>% 
    read.delim()

for(i in 2:ncol(SRF_Prisma)){
  a <- SRF_Prisma[,c(1,i)] %>% 
    purrr::set_names("Wv","band") %>% 
    filter(band == max(band)) %>% 
    pull(Wv)
  names <- paste0("B",i-1,"_",a)
  if(i == 2){
    names_Prisma <- names
  }else{
    names_Prisma <- c(names_Prisma, names)
  }
}

SRF_Prisma <- SRF_Prisma %>% 
  purrr::set_names(c("Wavelength", names_Prisma)) %>% 
    dplyr::filter(Wavelength >= min(speclib$Wavelength),
                  Wavelength <= max(speclib$Wavelength)) %>% 
  select(-B1_407)
  

SRF_Drone <- "Data/SRF/SRF_Drone.txt" %>% 
    read.delim() %>% 
    purrr::set_names(c("Wavelength","B1_444","B2_475","B3_531","B4_560","650","B6_668","B7_705","B8_717","B9_740","B10_840")) %>% 
    dplyr::filter(Wavelength >= min(speclib$Wavelength),
                  Wavelength <= max(speclib$Wavelength))

SRF_S2 <- "Data/SRF/SRF_S2.txt" %>% 
    read.delim() %>% 
    select(1:14) %>% 
    purrr::set_names(c("Wavelength","B1_443","B2_490","B3_560","B4_665","B5_705","B6_740","B7_783","B8_842","B8a_865","B9_945","B10_1375","B11_1610","B12_2190"))%>% 
    dplyr::filter(Wavelength >= min(speclib$Wavelength),
                  Wavelength <= max(speclib$Wavelength)) %>% 
    dplyr::select(Wavelength,B2_490,B3_560, B4_665, B5_705, B6_740, B7_783, B8_842, B8a_865)

Speclib_S2 <- tibble()    
for (i in 2:ncol(speclib_filled)) {
    
    for (ii in 2:ncol(SRF_S2)) {
        
        S2_res <- speclib_filled[,i] %>% 
            set_names("Class") %>% 
            mutate(SRF = SRF_S2[,ii]) %>% 
            reframe(test = weighted.mean(Class,SRF))
        
        Speclib_S2[ii-1,i-1] <- as.numeric(S2_res)
    }
    
}

Speclib_S2 <- Speclib_S2 %>% 
    set_names(names(speclib_filled)[-1]) %>% 
    mutate(Wavelength = as.numeric(gsub(".*_","",names(SRF_S2)[-1]))) %>% 
    pivot_longer(-Wavelength, names_to = "Class",values_to = "Ref") %>% 
    mutate(Sensor = "S2")

Speclib_Drone <- tibble()    
for (i in 2:ncol(speclib_filled)) {
    
    for (ii in 2:ncol(SRF_Drone)) {
        
        Drone_res <- speclib_filled[,i] %>% 
            set_names("Class") %>% 
            mutate(SRF = SRF_Drone[,ii]) %>% 
            reframe(test = weighted.mean(Class,SRF))
        
        Speclib_Drone[ii-1,i-1] <- as.numeric(Drone_res)
    }
    
}
Speclib_Drone <- Speclib_Drone %>% 
    set_names(names(speclib_filled)[-1]) %>% 
    mutate(Wavelength = as.numeric(gsub(".*_","",names(SRF_Drone)[-1])))%>% 
    pivot_longer(-Wavelength, names_to = "Class",values_to = "Ref") %>% 
    mutate(Sensor = "Drone")


Speclib_Prisma <- tibble()    
for (i in 2:ncol(speclib_filled)) {
    
    for (ii in 2:ncol(SRF_Prisma)) {
        
        Prisma_res <- speclib_filled[,i] %>% 
            set_names("Class") %>% 
            mutate(SRF = SRF_Prisma[,ii]) %>% 
            reframe(test = weighted.mean(Class,SRF))
        
        Speclib_Prisma[ii-1,i-1] <- as.numeric(Prisma_res)
    }
    
}


Speclib_Prisma <- Speclib_Prisma %>% 
    set_names(names(speclib_filled)[-1]) %>% 
    mutate(Wavelength = as.numeric(gsub(".*_","",names(SRF_Prisma)[-1])))%>% 
    pivot_longer(-Wavelength, names_to = "Class",values_to = "Ref") %>% 
    mutate(Sensor = "PRISMA")


speclib_resampled <- Speclib_Drone %>% 
    rbind(Speclib_S2) %>% 
    rbind(Speclib_Prisma)


speclib_resampled %>% 
    filter(Sensor == "Drone") %>% 
    group_by(Class) %>% 
    reframe(Wavelength = Wavelength,
            Ref = (Ref-min(Ref))/(max(Ref)-min(Ref))) %>% 
    ggplot()+
    geom_line(aes(Wavelength,y = Ref, color = Class), linewidth = 1.5)+
    scale_color_manual(values=c( "#DAA520", "#b3ff1a", "#389318", "#873e23", "#b3002d"))+
    theme_Bede()+
    ylab("Standardised Reflectance")+
    xlab("Wavelength (nm)")+
    xlim(c(400,900))+
    theme(legend.position = c(0.15, 0.8),
          legend.text = element_text(size = 12),
          axis.text.x = element_text(size = 12),
          axis.text.y = element_text(size = 12))

ggsave("Images/Speclib_Drone.png", last_plot(), width = 948*2, height = 450*2, units = "px")

speclib_resampled %>% 
    filter(Sensor == "S2",
           Wavelength %in% c(490, 560, 665, 842)) %>% 
    group_by(Class) %>% 
    reframe(Wavelength = Wavelength,
            Ref = (Ref-min(Ref))/(max(Ref)-min(Ref))) %>% 
    ggplot()+
    geom_line(aes(Wavelength,y = Ref, color = Class), linewidth = 1.5)+
    scale_color_manual(values=c( "#DAA520", "#b3ff1a", "#389318", "#873e23", "#b3002d"))+
    theme_Bede()+
    ylab("Standardised Reflectance")+
    xlab("Wavelength (nm)")+
    xlim(c(400,900))+
    theme(legend.position = c(0.15, 0.8),
          legend.text = element_text(size = 12),
          axis.text.x = element_text(size = 12),
          axis.text.y = element_text(size = 12))

ggsave("Images/Speclib_S2.png", last_plot(), width = 948*2, height = 450*2, units = "px")

speclib_resampled %>% 
    filter(Sensor == "PRISMA") %>% 
    group_by(Class) %>% 
    reframe(Wavelength = Wavelength,
            Ref = (Ref-min(Ref))/(max(Ref)-min(Ref))) %>% 
    ggplot()+
    geom_line(aes(Wavelength,y = Ref, color = Class), linewidth = 1.5)+
    scale_color_manual(values=c( "#DAA520", "#b3ff1a", "#389318", "#873e23", "#b3002d"))+
    theme_Bede()+
    ylab("Standardised Reflectance")+
    xlab("Wavelength (nm)")+
    xlim(c(400,900))+
    theme(legend.position = c(0.15, 0.8),
          legend.text = element_text(size = 12),
          axis.text.x = element_text(size = 12),
          axis.text.y = element_text(size = 12))

ggsave("Images/Speclib_PRISMA.png", last_plot(), width = 948*2, height = 450*2, units = "px")


```

## Discriminate green macrophytes using remote sensing {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute data-id="SpectralSignature" top="45%" left="-2%"}
![](Images/Figure_Hyperspectral_Instru.png){height="600"}
:::

```{r make a gif1}
#| cache: true
#| echo: false
#| eval: false
#| warning: false

library(magick)

## list file names and read in
imgs <- list.files("Images/Gif_Spectra", pattern = ".png", full.names = TRUE, include.dirs = F)
img_list <- lapply(imgs, image_read)

## join the images together
img_joined <- image_join(img_list)

## animate at 0.5 frames per second
img_animated <- image_animate(img_joined, fps = 0.5)

## view animated image
img_animated

## save to disk
image_write(image = img_animated,
            path = "Images/Spectra_resampled_gif.gif")
```

::: {.absolute top="45%" data-id="SpectralSignatureGIF" right="-2%"}
![](Images/Spectra_resampled_gif.gif){height="600"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" top="10%" left="0%"}
![](Images/BedePaperCover.png){height="450"}
:::

## Discriminate green macrophytes using remote sensing {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute top="10%" left="0%"}
![](Images/BedePaperCover.png){height="450"}
:::

::: {.fragment .fade-out fragment-index="3"}
::: {.absolute data-id="SpectralSignatureGIF" top="50%" left="-2%"}
![](Images/Spectra_resampled_gif.gif){height="600"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="30%" right="-5%"}
![](Images/spectro.jpg){height="620"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="25%" left="48%"}
![](Images/Sites_Bede.png){height="830"}
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="15%" left="55%"}
[More than 300 spectra]{style="font-size: 80px"}
:::
:::

::: {.fragment .fade-in fragment-index="3"}
::: {.absolute top="50%" left="-2%"}
![](Images/Spectra_resampled_gif.gif){height="600"}
:::

::: {.absolute .fragment .fade-out top="20%" fragment-index="4" right="-2%"}
![](Images/Spectra_distance_gif.gif){height="700"}
:::
:::

::: {.absolute .fragment .fade-in top="8%" fragment-index="4" right="-2%"}
![](Images/Figure6_Bede.png){height="1150"}
:::

```{r make a gif2}
#| cache: true
#| echo: false
#| eval: false
#| warning: false

library(magick)

## list file names and read in
imgs <- list.files("Images/Gif_Spectra/Figs", pattern = ".jpg", full.names = TRUE, include.dirs = F)
img_list <- lapply(imgs, image_read)

## join the images together
img_joined <- image_join(img_list)

## animate at 0.5 frames per second

img_animated <- image_animate(img_joined, fps = 0.5)

## view animated image
img_animated

## save to disk
image_write(image = img_animated,
            path = "Images/Spectra_distance_gif.gif")

```

## Drone mapping of Intertidal Vegetation {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute top="7%" left="-2%"}
![](Videos/Flight_Matrice200.mp4){height="1200"}
:::

::: {.absolute top="60%" left="28%"}
![](Images/matrice.jpg){height="450"}
:::

::: {.absolute top="60%" left="70%"}
![](Images/micasense.png){height="450"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" top="8%" left="28%"}
![](Images/micasense_SRF.png){height="650"}
:::

## Detailed Study Sites {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute top="10%" right="0%"}
![](Images/Fig1_Map_Drone_Sites.png){height="1200"}
:::

::: {.absolute top="20%"}
```{=html}
<style>
.container {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.table-container {
    width: 60%;
    font-size: 40px;
}
th {
    background-color: #d3d3d3; /* Darker gray background for headers */
    border: 1px solid black;
    padding: 15px;
    text-align: center;
    vertical-align: middle;
}
td {
    border: 1px solid black;
    padding: 15px;
    text-align: center;
    vertical-align: middle;
}
tr:nth-child(2) {
    background-color: #f9f9f9; /* Light gray background for the first data row */
}
tr:nth-child(3) {
    background-color: #e9e9e9; /* Slightly darker gray for the second data row */
}
tr:nth-child(4) {
    background-color: #d9d9d9; /* Darker gray for the third data row */
}
</style>

<div class="container">
    <div class="table-container">
        <table>
            <th>
                <th>Country</th>
                <th>Site</th>
                <th>Name</th>
                <th>Altitude</th>
            </th>
            <tr>
                <td>A</td>
                <td>France</td>
                <td>Morbihan Gulf</td>
                <td>Arz Island<br>Duer<br>Duer</td>
                <td>- 12 m<br>- 12 m<br>- 120 m</td>
            </tr>
            <tr class="fragment fade-in" data-fragment-index="1">
                <td>B</td>
                <td>France</td>
                <td>Noirmoutier Island</td>
                <td>Barb√¢tre<br>L'Epine</td>
                <td>- 120 m<br>- 120 m</td>
            </tr>
            <tr class="fragment fade-in" data-fragment-index="2">
                <td>C</td>
                <td>Portugal</td>
                <td>Aveiro Lagoon</td>
                <td>Inner<br>Mataducos<br>Gafanha<br>Gafanha</td>
                <td>- 120 m<br>- 120 m<br>- 120 m<br>- 12 m</td>
            </tr>
        </table>
    </div>
</div>
```
:::

::: {.absolute .fragment .fade-in fragment-index="3" data-id="2alt" bottom="15%" left="0%"}
[2 altitudes = 2 purposes]{style="font-size: 80px"}
:::

## 2 altitudes = 2 purposes {auto-animate="true" style="font-size: 60px;"}

::: {.absolute top="0" left="95%"}
::: sectionhead
[1]{style="opacity:0.25"} 2 [3 4 5 6]{style="opacity:0.25"}
:::
:::

::: {.absolute data-id="2alt" top="-0%" left="0%" style="font-size: 80px; color: rgba(0,0,0,0);"}
2 altitudes = 2 purposes
:::

::: {.absolute top="10%" left="-2%"}
![](Images/Graphical_Abstract.png){height="1150"}
:::

::: {.absolute .fragment .fade-in fragment-index="1" top="8%" left="26%"}
![](Images/Gaf_Low_RGB.png){height="1200"}
:::

::: {.absolute top="34%" .fragment .fade-in fragment-index="1" left="63%" style="font-size: 30px;"}
~ 1.5 millions pixels
:::

::: {.absolute .fragment .fade-in fragment-index="2" top="25%" right="-2%"}
![](Images/table_training_px.png){height="350"}
:::

::: {.absolute top="65%" .fragment .fade-in fragment-index="2 " right="0%" style="font-size: 50px;"}
~ 500 000 training pixels
:::